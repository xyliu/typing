/* TypeFlow - Components Stylesheet */

/* Virtual Keyboard - 75% ANSI Layout Styles */
#virtual-keyboard {
    position: relative;
    /* Using Flexbox instead of Grid for row-based layout */
    display: flex;
    display: flex;
    flex-direction: column;
    gap: var(--key-gap-y);
    /* Dynamic, tighter gap */
    padding: 0.5cqw;
    background: #e0e0e0;
    /* Case color from image */
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    width: 100%;
    /* Remove height to fit rows naturally */
    min-height: auto;
    max-width: 900px;
}

/* Key Base Style */
.key {
    background: #fdfdfd;
    /* White keycaps */
    border-radius: 4px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: var(--key-font-size);
    font-weight: 500;
    color: #333;
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);
    transition: transform 0.05s, background-color 0.1s;
    user-select: none;
    position: relative;
}

/* Key States */
.key.active {
    background-color: var(--accent-primary);
    color: #333;
    transform: translateY(2px);
    box-shadow: 0 0 2px rgba(0, 0, 0, 0.1);
}

.key.hint {
    /* Default: Border Highlight (Intensity <= 50%) */
    border: 2px solid rgba(226, 183, 20, var(--hint-opacity));
    box-shadow: 0 0 8px rgba(226, 183, 20, calc(var(--hint-opacity) * 0.6));
    transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s;
}

/* Fill Mode (Intensity > 50%) */
body.hint-mode-fill .key.hint {
    background-color: rgba(226, 183, 20, var(--hint-opacity));
    border-color: transparent;
    /* Hide border in fill mode */
    box-shadow: none;
    color: #fff;
    /* Ensure text is readable on yellow */
    font-weight: bold;
}

/* When hints are disabled via class */
body.no-hints .key.hint {
    border-color: transparent;
    box-shadow: none;
}

.key.error {
    background-color: var(--error-color);
    color: white;
}

/* Finger Hints (Optional sub-marker) */
.key::after {
    content: attr(data-finger);
    position: absolute;
    bottom: 2px;
    right: 4px;
    font-size: 0.6rem;
    opacity: 0;
    /* Hidden by default */
}

/* Finger Zone Coloring (Top Border Strip) */

/* LEFT HAND */
.finger-index-left {
    border-top: 4px solid #F48FB1;
}

/* Left Index: Lighter Pink */
.finger-middle-left {
    border-top: 4px solid #80CBC4;
}

/* Left Middle: Lighter Teal */

/* RIGHT HAND - CUSTOMIZED */
.finger-index-right {
    border-top: 4px solid #FFCC80;
}

/* Right Index: Lighter Orange */
.finger-middle-right {
    border-top: 4px solid #80CBC4;
}

/* Right Middle: Lighter Teal */

/* SHARED */
.finger-ring {
    border-top: 4px solid #FFB74D;
}

/* Ring: Lighter Deep Orange */
.finger-pinky {
    border-top: 4px solid transparent;
}

/* Pinky: None */

/* Thumb */
.finger-thumb {
    border-top: 4px solid #E0E0E0;
}

/* Thumb: Light Grey */

.key.active {
    background-color: var(--accent-primary);
    /* Keep border color visible */
    border-top-color: inherit;
}